<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../resources/cartlink.png" />
    <link rel="stylesheet" href="../styles/footer2.css" />
    <link rel="stylesheet" href="../styles/header.css" />
    <link rel="stylesheet" href="../styles/main.css" />
    <link rel="stylesheet" href="../font-awesome/css/all.css" />
    <title>Yammie | Create My Account</title>
    <style>
      body {
        background-color: #fff;
      }
      .cr-m-ctr {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .cr-ctr {
        width: 70vw;
        margin: 10px auto;
        margin-top: 20px;
        background-color: #fff;
        display: flex;
        justify-content: space-around;
        flex-direction: column;
        align-items: center;
        height: 75vh;
      }
      .cr-heading {
        font-weight: bold;
      }
      .cr-form {
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        height: 75%;
      }
      .cr-f-1,
      .cr-f-2,
      .cr-f-3 {
        display: flex;
        justify-content: space-between;
      }
      .cr-i-c > input {
        padding: 10px 5px;
        font-size: 20px;
        width: 300px;
        border: none;
        outline: none;
      }
      .cr-p-h {
        position: absolute;
        top: 5px;
        font-size: 18px;
        pointer-events: none;
        transition: all 0.3s ease-in-out;
      }
      .cr-i-c {
        position: relative;
        border-bottom: 1px solid #93a3b3;
        transition: all 0.3s ease-in-out;
      }
      .cr-i-c .fas {
        font-size: 25px;
      }
      .cr-firstname,
      .cr-email,
      .cr-phone-n {
        margin-right: 15px;
      }
      .cr-email {
        position: relative;
      }
      #used-e,
      .password,
      .phone-m {
        position: absolute;
        color: red;
        opacity: 0;
        font-size: 14px;
        transition: all 0.3s ease-in-out;
      }
      .gender {
        opacity: 1;
        position: absolute;
        font-size: 14px;
        transition: all 0.3s ease-in-out;
      }
      .cr-lastname,
      .cr-password,
      .cr-gender {
        margin-left: 15px;
      }
      .cr-password {
        position: relative;
      }
      .cr-password > .eye-icon {
        position: absolute;
        right: 15px;
        cursor: pointer;
      }
      .cr-btn-c {
        width: 100%;
        display: flex;
        flex-direction: column;
      }
      .cr-btn {
        padding: 15px 5px;
        font-size: 20px;
        border: none;
        outline: none;
        background-color: #ffbb00;
        color: white;
        border-radius: 5px;
        box-shadow: 2px 2px 5px #c3c3c3;
        transform: translateY(-4px);
        cursor: pointer;
        transition: all 0.3s ease-in-out;
      }
      .cr-btn:hover {
        transform: translateY(-7px);
        box-shadow: 5px 5px 7px #c3c3c3;
      }
      .cr-o-btn {
        position: relative;
        width: 30vw;
        padding: 10px;
        font-size: 17px;
        border: none;
        outline: none;
        background-color: #40588a;
        color: white;
        border-radius: 5px;
        box-shadow: 2px 2px 5px #c3c3c3;
        transform: translateY(-4px);
        cursor: pointer;
        transition: all 0.3s ease-in-out;
      }
      .cr-o-btn:hover {
        transform: translateY(-7px);
        box-shadow: 5px 5px 7px #c3c3c3;
      }
      .cr-o-btn > a {
        color: white;
      }
      .cr-o-btn > .fab {
        position: absolute;
        right: 10px;
        font-size: 25px;
      }
      .cr-or {
        font-size: 18px;
        font-weight: bold;
        margin: 10px 20px;
      }
      @media screen and (max-width: 1024px) {
        .cr-m-ctr {
          display: block;
        }
        .cr-ctr {
          width: 95vw;
          margin: 10px auto;
          margin-top: 20px;
          display: flex;
          justify-content: space-around;
          flex-direction: column;
          align-items: center;
          height: fit-content;
        }
        .cr-heading {
          font-weight: bold;
          font-size: 14px;
        }
        .cr-form {
          display: flex;
          flex-direction: column;
          justify-content: space-around;
          height: fit-content;
        }
        .cr-f-1,
        .cr-f-2,
        .cr-f-3 {
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
        .cr-firstname,
        .cr-email,
        .cr-phone-n {
          margin-right: 0px;
          margin-top: 30px;
        }
        .cr-lastname,
        .cr-password,
        .cr-gender {
          margin-left: 0px;
          margin-top: 30px;
        }
        .cr-btn-c {
          margin-top: 35px;
        }
        .cr-o-btn {
          margin: 10px 0px;
        }
        .cr-o-btn > .fab {
          right: 2px;
          font-size: 15px;
        }
      }
      @media screen and (max-width: 765px) {
        .cr-o-btn {
          width: 50vw;
          padding: 5px;
          font-size: 14px;
          margin: 10px 0px;
        }
        .cr-o-btn > .fab {
          right: 2px;
          font-size: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="search-nav">
      <div class="logo">
        <div class="menu">
          <div class="line1"></div>
          <div class="line2"></div>
          <div class="line3"></div>
        </div>
        <a href="../index.html">
          <img
            src="../resources/yammie.png"
            alt="YAMMIE"
            width="200"
            height="95%"
          />
        </a>
      </div>
      <div class="search">
        <form
          id="f-search"
          autocomplete="off"
          action="../catalog.html"
          method="GET"
        >
          <input
            type="text"
            name="q"
            placeholder="Search Groceries...."
            class="navsearch"
            id="v-search"
          />
          <button type="submit" id="search-button">
            <i class="fas fa-search"></i>
          </button>
        </form>
      </div>
      <div class="cart-login">
        <a class="login" id="login" href="">
          <img src="../resources/person.svg" alt="" />
          <span class="h-greeting">Good Morning,</span>
          <span class="login-text">My Account</span>
        </a>
        <a class="cart" href="">
          <img src="../resources/shopping-cart.svg" alt="" />
          <span class="cart-number" id="cartNumberItems">11</span>
          <span class="cart-text">Cart</span>
        </a>
      </div>
      <div id="sideNav">
        <ul class="s-n-1">
          <h3 class="sn-categories">Categories</h3>
          <li class="n-l-itm">
            <a href="../easy-market.html">
              <i class="fas fa-shopping-basket ctg-icon"></i>
              EasyMarket with Yammie
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../quick-foods.html">
              <i class="fas fa-pizza-slice ctg-icon"></i>
              Fast Foods &amp; Drinks
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../phones.html">
              <i class="fas fa-headphones-alt ctg-icon"></i>
              Phones &amp; Accessories
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../electronics.html">
              <i class="fas fa-charging-station ctg-icon"></i>
              Electronics
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../computing.html">
              <i class="fas fa-desktop ctg-icon"></i>
              Computing &amp; Accessories
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../stationery.html">
              <i class="fas fa-paperclip ctg-icon"></i>
              Stationery
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../clothing.html">
              <i class="fas fa-tshirt ctg-icon"></i>
              Clothes &amp; Shoes
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../kitchen.html">
              <i class="fas fa-utensils ctg-icon"></i>
              Kitchen Staff &amp; Utensils
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../kids.html">
              <i class="fas fa-child ctg-icon"></i>
              Kid's Section
            </a>
          </li>
          <li class="n-l-itm">
            <a href="../diy.html">
              <img src="../resources/clean-hands.png" alt="" />
              Cleaning, Healthy &amp; Beauty
            </a>
          </li>
          <li class="n-l-itm">
            <a href="">
              <i class="fas fa-layer-group ctg-icon"></i>
              All Items
            </a>
          </li>
        </ul>
        <ul class="s-n-4">
          <h3>My Account</h3>
          <li>
            <i class="fas fa-user"></i>
            <span>My Profile</span>
          </li>
          <li>
            <i class="fas fa-box"></i>
            <span>My Orders</span>
          </li>

          <li>
            <i class="fas fa-dolly-flatbed"></i>
            <span>Pending Orders</span>
          </li>
          <li>
            <i class="fas fa-thumbs-up"></i>
            <span><a href="#">Liked Items</a></span>
          </li>
          <li>
            <i class="fas fa-address-card"></i>
            <span>My Address</span>
          </li>
          <li>
            <i class="fas fa-user-edit"></i>
            <span>Edit My Profile</span>
          </li>
          <button class="s-n-logout">LOG OUT</button>
        </ul>
        <ul class="s-n-2">
          <h3 class="s-n-how">Products &amp; Groceries</h3>
          <li><a href="#">Special Order</a></li>
          <li><a href="#">Delivery Time</a></li>
          <li><a href="#">Payment Methods</a></li>
          <li><a href="#">Request An Item</a></li>
          <li><a href="#">Report an Item</a></li>
          <li><a href="#">Return Policy</a></li>
        </ul>
        <ul class="s-n-3">
          <h3 class="s-n-how">Explore Yammie</h3>
          <li><a href="#">About Yammie</a></li>
          <li><a href="#">How to Order</a></li>
          <li><a href="#">Our Partners</a></li>
          <li><a href="#">Terms &amp; Conditions For Use</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
        <div class="ftr-down">
          <div class="ftr-official">
            &copy; 2020 Yammie. All rights reserved
            <div class="social-icons">
              <a href="" class="icon-button"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a href="" class="icon-button"><i class="fab fa-twitter"></i></a>
              <a href="" class="icon-button"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="" class="icon-button"><i class="fab fa-youtube"></i></a>
              <a href="" class="icon-button"><i class="fab fa-linkedin"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="cr-m-ctr">
      <div class="cr-ctr">
        <div class="cr-heading">
          <h2>Create Your Yammie Account</h2>
        </div>
        <form class="cr-form" autocomplete="off" id="cr-form">
          <div class="cr-f-1">
            <div class="cr-firstname cr-i-c">
              <i class="fas fa-user-circle"></i>
              <span class="cr-p-h" id="cr-p-h-f">First Name</span>
              <input type="text" id="cr-f-name" required />
            </div>
            <div class="cr-lastname cr-i-c">
              <i class="fas fa-user-circle"></i>
              <span class="cr-p-h" id="cr-p-h-l">Last Name</span>
              <input type="text" id="cr-l-name" required />
            </div>
          </div>
          <div class="cr-f-2">
            <div class="cr-email cr-i-c">
              <i class="fas fa-envelope"></i>
              <span class="cr-p-h" id="cr-p-h-e">E-mail</span>
              <input type="email" id="cr-email" />
              <div id="used-e"></div>
            </div>
            <div class="cr-password cr-i-c">
              <i class="fas fa-lock"></i>
              <i class="fas fa-eye eye-icon"></i>
              <span class="cr-p-h" id="cr-p-h-p">Password</span>
              <input type="password" id="cr-password" required />
              <div class="password">Should be More than 5 characters</div>
            </div>
          </div>
          <div class="cr-f-3">
            <div class="cr-phone-n cr-i-c">
              <i class="fas fa-phone-volume"></i>
              <span class="cr-p-h" id="cr-p-h-ph">Phone Number</span>
              <input type="text" id="cr-phone" />
              <div class="phone-m">Phone Number is incorrect</div>
            </div>
            <div class="cr-gender cr-i-c">
              <i class="fas fa-user"></i>
              <span class="cr-p-h" id="cr-p-h-g">Gender</span>
              <input type="text" id="cr-gender" list="gender" />
              <div class="gender">Please Select</div>
              <datalist id="gender">
                <option value="MALE">MALE</option>
                <option value="FEMALE">FEMALE</option>
              </datalist>
            </div>
          </div>
          <div class="cr-btn-c">
            <button type="submit" class="cr-btn">Create Your Account</button>
            <span style="align-self: flex-end">
              Already Have An Account?
              <a href="./login.html" style="color: #ffbb00">Login</a>
            </span>
          </div>
        </form>
        <div class="cr-other-m">
          <button class="cr-o-btn">
            <i class="fab fa-facebook-square"></i>
            <a href="">Register With FaceBook</a>
          </button>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="ftr-sm-s">
        <span> Terms &amp; Conditions </span>
        <span> Help Center </span>
        <span> Contact Us </span>
      </div>
      <div class="ftr-up">
        <div class="ftr-u-first">
          <div class="ftr-logo">
            <img
              src="../resources/yammie.png"
              alt="YAMMIE"
              width="250px"
              height="100px"
            />
          </div>
          <div class="ftr-message">
            <p>
              Your online Market Store For Groceries, <br />
              Food Items, Clothings, Gadgets And Many More.
            </p>
          </div>
          <div class="ftr-app">
            <h3>Get the Yammie App On . . . .</h3>
            <div class="ftr-app-stores" style="margin-top: 15px">
              <a href="">
                <img
                  src="../resources/play-store-3.jpg"
                  alt=""
                  height="45"
                  width="150"
                  style="margin-right: 5px"
                />
              </a>
              <a href="">
                <img
                  src="../resources/apple-store.jpg"
                  alt=""
                  height="45"
                  width="150"
                />
              </a>
            </div>
          </div>
        </div>
        <div class="ftr-u-second">
          <h4 class="footer-h4">Explore Yammie</h4>
          <ul class="footer-list">
            <li><a href="#">About Yammie</a></li>
            <li><a href="#">How to Order</a></li>
            <li><a href="#">Help &amp; FAQs</a></li>
            <li><a href="#">Our Partners</a></li>
            <li><a href="#">Terms &amp; Conditions For Use</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="ftr-u-third">
          <h4 class="footer-h4">Contact Us</h4>
          <ul class="footer-list">
            <li class="second-list">
              <a href="">
                <i class="fas fa-shopping-cart"></i>
                Yammie Shoppers
              </a>
            </li>
            <li class="second-list">
              <a href="mailto:#">
                <i class="fas fa-envelope"></i>
                customer@yammie.com
              </a>
            </li>
            <li class="second-list">
              <a href="#">
                <i class="fas fa-map-marker-alt"></i>
                Lira Campus
              </a>
            </li>
          </ul>
          <form action="#">
            <input
              type="text"
              name=""
              id="comment"
              placeholder="Leave a Comment"
            />
            <br />
            <input
              type="text"
              name=""
              id="customer-email"
              placeholder="Email or Phone Number(Optional)"
            />
            <br />
            <button class="footer-form-button">submit</button>
          </form>
        </div>
        <div class="ftr-u-fourth">
          <h4 class="footer-h4">Products &amp; Groceries</h4>
          <ul class="footer-list">
            <li><a href="#">Special Order</a></li>
            <li><a href="#">Delivery Time</a></li>
            <li><a href="#">Payment Methods</a></li>
            <li><a href="#">Request An Item</a></li>
            <li><a href="#">Report an Item</a></li>
            <li><a href="#">Return Policy</a></li>
          </ul>
        </div>
      </div>
      <div class="ftr-down">
        <div class="ftr-official">
          &copy; 2020 Yammie. All rights reserved
          <div class="social-icons">
            <a href="" class="icon-button"><i class="fab fa-facebook-f"></i></a>
            <a href="" class="icon-button"><i class="fab fa-twitter"></i></a>
            <a href="" class="icon-button"><i class="fab fa-instagram"></i></a>
            <a href="" class="icon-button"><i class="fab fa-youtube"></i></a>
            <a href="" class="icon-button"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
      </div>
    </footer>
    <!--scripts-->

    <script>
      //input focus
      function focus(input, elMove, elMoveGroup, icon) {
        document.querySelector(input).addEventListener("focus", () => {
          document.querySelector(elMove).style.fontSize = "13px";
          document.querySelector(elMove).style.transform = "translateY(-15px)";
          document.querySelector(elMoveGroup).style.borderBottom =
            "1px solid #ffbb00";
          document.querySelector(icon).style.color = "#ffbb00";
        });
        document.querySelector(input).addEventListener("blur", () => {
          if (document.querySelector(input).value === "") {
            document.querySelector(elMove).style.transform = "translateY(0px)";
            document.querySelector(elMove).style.fontSize = "20px";
          }
          document.querySelector(elMoveGroup).style.borderBottom =
            "1px solid #93a3b3";
          document.querySelector(icon).style.color = "black";
        });
      }
      focus("#cr-f-name", "#cr-p-h-f", ".cr-firstname", ".cr-firstname .fas");
      focus("#cr-l-name", "#cr-p-h-l", ".cr-lastname", ".cr-lastname .fas");
      focus("#cr-email", "#cr-p-h-e", ".cr-email", ".cr-email .fas");
      focus("#cr-password", "#cr-p-h-p", ".cr-password", ".cr-password .fas");
      focus("#cr-phone", "#cr-p-h-ph", ".cr-phone-n", ".cr-phone-n .fas");
      focus("#cr-gender", "#cr-p-h-g", ".cr-gender", ".cr-gender .fas");

      //input focus end

      //eye password icon
      let eyeIcon = document.querySelector(".eye-icon");
      eyeIcon.addEventListener("click", () => {
        let password = document.getElementById("cr-password");
        const type =
          password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);

        eyeIcon.classList.toggle("fa-eye-slash");
      });
      //eye password icon ends
      //form

      let fm = document.querySelector("#cr-form");
      fm.addEventListener("submit", (e) => {
        e.preventDefault();

        let fn = document.querySelector("#cr-f-name");
        let ln = document.querySelector("#cr-l-name");
        let email = document.querySelector("#cr-email");
        let pd = document.querySelector("#cr-password");
        let phne = document.querySelector("#cr-phone");
        let gender = document.querySelector("#cr-gender");

        function validate() {
          let user = {};
          if (gender.value == "MALE" || gender.value == "FEMALE") {
            user.c_gender = gender.value;
          } else {
            document.querySelector(".gender").style.color = "red";
            document.querySelector(".gender").innerHTML =
              "Please Select MALE or FEMALE";
            return false;
          }
          if (pd.value.length < 6) {
            document.querySelector(".password").style.opacity = "1";
            setTimeout(() => {
              document.querySelector(".password").style.opacity = "0";
            }, 8000);
            return false;
          } else {
            user.c_password = pd.value;
          }

          if (phne.value.length == 10 && phne.value.charAt(0) == "0") {
            user.c_phone = phne.value;
          } else {
            document.querySelector(".phone-m").style.opacity = "1";
            setTimeout(() => {
              document.querySelector(".phone-m").style.opacity = "0";
            }, 8000);
            return false;
          }

          user.c_email = email.value;
          user.c_first_name = fn.value.trim();
          user.c_last_name = ln.value.trim();
          return user;
        }

        let validUser = validate();
        if (validUser === false) {
          return;
        } else {
          xhr = new XMLHttpRequest();
          xhr.onreadystatechange = () => {
            if (xhr.readyState == 4 && xhr.status == 401) {
              // document.getElementById("demo").innerHTML = xhttp.responseText;
              document.querySelector("#used-e").style.opacity = "1";
              document.querySelector("#used-e").innerHTML = xhr.responseText;
              setTimeout(() => {
                document.querySelector("#used-e").style.opacity = "0";
              }, 10000);
            }
            if (xhr.responseText === "inserted") {
              location.replace("../index.html");
            }
            if (xhr.responseText === "Error in Registering") {
              alert(xhr.responseText);
              window.location.reload();
            }
          };
          xhr.open("POST", "http://localhost:3000/api/customer/insert", true);
          xhr.setRequestHeader("Content-type", "application/json");
          xhr.send(JSON.stringify(validUser));
        }
      });
      //form end
    </script>
    <!--scripts-->
  </body>
</html>
